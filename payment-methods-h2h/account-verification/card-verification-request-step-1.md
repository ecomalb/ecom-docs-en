---
description: '{{url}}/ecom/execute_request/payments/v1/create/verification'
---

# Card Verification Request Step 1

### Input parameters:

<table data-full-width="false"><thead><tr><th width="133.31610107421875">Parameter</th><th width="236">Description</th><th width="184.169677734375">Data format</th><th width="73.22216796875">Required</th><th width="249.9949951171875">Example</th></tr></thead><tbody><tr><td>merchantRequestId</td><td>unique identifier generated by the merchant system, used to be able to find out the status of the operation if the request ended with an unknown error or disconnection</td><td>string(36)</td><td>Yes</td><td>137d9304-0368-11ed-b939-0242ac120002</td></tr><tr><td>merchantId</td><td>Merchant Id generated in Ekom</td><td>string(36)</td><td>Yes</td><td>137d9304-0368-11ed-b939-0242ac120002</td></tr><tr><td>encryptedCardNumber</td><td>card number encrypted in JWE using public payment key</td><td>string</td><td>Yes</td><td>5573670000000304 (decrypted form)</td></tr><tr><td>desiredThreeDSMode</td><td>a flag that indicates whether the merchant wants to use 3DS in the purchase or not.</td><td>string (50)</td><td>Yes</td><td><p>Default SHOULD</p><p>Possible values:</p><ul><li>MUST - the merchant requires payment with 3DS</li><li>MUST_NOT - forced operation without 3DS</li><li>SHOULD - if the card supports 3DS, then we perform a check</li></ul></td></tr><tr><td>notificationUrl</td><td>url to which the notification will be sent CallBack</td><td>string (1000)</td><td>No</td><td>https://merchant.notification_url</td></tr><tr><td>notificationEncryption</td><td>CallBack data encryption flag</td><td>string</td><td>No</td><td><p>true/false</p><p>If the parameter is not passed or is passed false, the data in CallBack will be unencrypted</p></td></tr><tr><td>date</td><td>date and time of payment</td><td>string</td><td>Yes</td><td>{{currentdateT}}.00+00:00</td></tr><tr><td>comment</td><td>additional description of the transaction filled in by the merchant's client</td><td>string (1000)</td><td>No</td><td>///5555.25412</td></tr><tr><td>purpose</td><td>payment purpose filled in by the merchant</td><td>string (255)</td><td>No</td><td>For product</td></tr><tr><td>merchantComment</td><td>additional information\merchant comment on the order</td><td><p>string(255)</p><p>a-zA-Z0-9 ,.;:@#$%'-=+1,256$</p></td><td>No</td><td>merchant Comment id 1258728c1</td></tr><tr><td>resultRedirectUrl</td><td>Url to redirect the customer after passing 3DS authentication</td><td>string (1000)</td><td>No</td><td><a href="https://support.google.com/"><img src="https://support.google.com/favicon.ico" alt="">Google Help</a></td></tr><tr><td>customerData</td><td>object with customer data</td><td>object</td><td>Yes</td><td></td></tr><tr><td>senderCustomerId</td><td>Sender customer ID</td><td>string (255)</td><td>Yes</td><td>1258728c1</td></tr><tr><td>senderFirstName</td><td>sender name</td><td><p>string (30)</p><ul><li>value cannot contain only numbers</li><li>cannot contain periods or other special characters</li><li>cannot contain “NULL”, “3D SECURE”, “SURNAME”, “CARDHOLDER”, ”UNKNOWN”</li><li>only alphanumeric values ​​are allowed</li><li>can accept spaces and hyphens, but cannot be exclusively with “ “ or “-“</li><li>a hyphen or space can be inside, but cannot be at the beginning or end</li><li>For the apostrophe character, use the only available utf8 character - '<br>which is in:<br>utf 16 - u0027<br>utf32 - 00000027</li></ul></td><td>No</td><td>Ivanenko</td></tr><tr><td>senderLastName</td><td>sender's last name</td><td><p>string (30)</p><ul><li>the value cannot contain only numbers</li><li>cannot contain periods and other special characters</li><li>only alphanumeric values ​​are allowed</li><li>can accept space and hyphen, but cannot consist exclusively of “ “ or “-“</li><li>a hyphen or space can be inside, but cannot be at the beginning or end</li><li>For the apostrophe character, use the only available utf8 character - '<br>which is in:<br>utf 16 - u0027<br>utf32 - 00000027</li></ul></td><td>No</td><td>Ivan</td></tr><tr><td>senderMiddleName</td><td>sender's middle name</td><td><p>string (30)</p><ul><li>value cannot contain only numbers</li><li>cannot contain periods or other special characters</li><li>only alphanumeric values ​​are allowed</li><li>can accept spaces and hyphens, but cannot consist exclusively of “ “ or “-“</li><li>a hyphen or space can be inside, but cannot be at the beginning or end</li><li>For the apostrophe character, use the only available utf8 character - '<br>which is in:<br>utf 16 - u0027<br>utf32 - 00000027</li></ul></td><td>No</td><td>Ivanovich</td></tr><tr><td>senderEmail</td><td>sender's email</td><td>string (256)</td><td>No</td><td><a href="mailto:mail@gmail.com">mail@gmail.com</a></td></tr><tr><td>senderCountry</td><td>sender's country</td><td>string (3) ISO 3166, 804 (Ukraine)</td><td>No</td><td>804</td></tr><tr><td>senderRegion</td><td>region sender</td><td>string (255)</td><td>No</td><td>Kyiv</td></tr><tr><td>senderСity</td><td>sender city</td><td>string (25)</td><td>No</td><td>Kyiv</td></tr><tr><td>senderStreet</td><td>sender street</td><td>string (35)</td><td>No</td><td>Sichovyh striltsiv</td></tr><tr><td>senderAdditionalAddress</td><td>additional sender address data (floor, house number, apartment)</td><td>string (255)</td><td>No</td><td>23</td></tr><tr><td>senderItn</td><td>sender's IP address</td><td>string (20)</td><td>No</td><td>123456789</td></tr><tr><td>senderPassport</td><td>sender's passport</td><td>string (255)</td><td>No</td><td>AN123456</td></tr><tr><td>senderIp</td><td>sender's IP address</td><td>string (50)</td><td>No</td><td>123.12.12.12</td></tr><tr><td>senderPhone</td><td>sender phone number</td><td>string (20)</td><td>No</td><td>380630000000</td></tr><tr><td>senderBirthday</td><td>sender's birthday</td><td>string (50)</td><td>No</td><td>12/31/2000</td></tr><tr><td>senderGender</td><td>sender's gender</td><td>string (50)</td><td>No</td><td>Male/Female</td></tr><tr><td>senderZipCode</td><td>Sender Zip Code</td><td>string (50)</td><td>No</td><td>49000</td></tr></tbody></table>

### Output parameters:

| Parameter               | Description                                                                         | Data Format | Example                                                                                                                                                                                                |
| ----------------------- | ----------------------------------------------------------------------------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| type                    | transaction type                                                                    | string      | Purchase                                                                                                                                                                                               |
| rrn                     | transaction RRN number in MPS                                                       | string      | 2554256963                                                                                                                                                                                             |
| purpose                 | payment purpose                                                                     | string      | For goods                                                                                                                                                                                              |
| comment                 | comment                                                                             | string      | test                                                                                                                                                                                                   |
| coinAmount              | payment amount                                                                      | int         | 2000                                                                                                                                                                                                   |
| merchantId              | merchant ID                                                                         | string      | 137d9304-0368-11ed-b939-0242ac120002                                                                                                                                                                   |
| operationId             | transaction ID                                                                      | string      | 1712844596346b9F-WwrWZpq                                                                                                                                                                               |
| ecomOperationId         | transaction ID in the Ecom system                                                   | string      | 8c3303e9-7396-43b8-af4e-31d9facdde9b                                                                                                                                                                   |
| merchantName            | merchant name                                                                       | string      | KB test terminal                                                                                                                                                                                       |
| approvalCode            | authorization code                                                                  | string      | 39203                                                                                                                                                                                                  |
| status                  | transaction status                                                                  | string      | SUCCESS FAIL PENDING REQUIRED\_3DS DESIRED\_THREEDS\_MODE\_ERROR                                                                                                                                       |
| transactionType         | transaction type in numeric value                                                   | string      | 35                                                                                                                                                                                                     |
| merchantRequestId       | merchant request ID                                                                 | string      | 72837906-f526-4aef-8d11-58d80b44cb75                                                                                                                                                                   |
| transactionCurrency     | payment currency                                                                    | string      | 980                                                                                                                                                                                                    |
| merchantCommission      | commission amount                                                                   | string      | 2                                                                                                                                                                                                      |
| createDateTime          | payment creation date                                                               | string      | 2024.09.19 15:29:25.675                                                                                                                                                                                |
| modificationDateTime    | payment modification date                                                           | string      | 2024.09.19 15:29:25.675                                                                                                                                                                                |
| actionCode              | response code                                                                       | string      | 0                                                                                                                                                                                                      |
| responseCode            | response details                                                                    | string      | 0                                                                                                                                                                                                      |
| description             | response description                                                                | string      | approved                                                                                                                                                                                               |
| bankCode                | issuer bank name                                                                    | string      | BANK\_ALLIANCE                                                                                                                                                                                         |
| paymentSystem           | issuer payment system name                                                          | string      | MasterCard                                                                                                                                                                                             |
| productType             | terminal product type                                                               | string      | PURCHASE                                                                                                                                                                                               |
| notificationUrl         | URL to which the CallBack was sent                                                  | string      | [https://merchant.notification\_url/](https://merchant.notification_url/)                                                                                                                              |
| paymentServiceType      | payment type                                                                        | string      | CARD/APPLE\_PAY/GOOGLE\_PAY                                                                                                                                                                            |
| notificationEncryption  | indicator of CallBack data encryption                                               | string      | true/false If the parameter is not provided or set to false, the CallBack data will not be encrypted                                                                                                   |
| cardNumberMask          | masked card number                                                                  | string      | 5573\*\*\*\*\*\*\*\*0304                                                                                                                                                                               |
| desiredThreeDSMode      | indicator specifying whether the merchant wants to use 3DS in the purchase          | string      | MUST/SHOULD/MUST\_NOT                                                                                                                                                                                  |
| threeDSMode             | parameter indicating whether 3DS was used in the purchase                           | string      | MUST - payment with 3DS MUST\_NOT - payment without 3DS                                                                                                                                                |
| statusThreeDs           | 3DS processing status                                                               | string      | Y - successful 3DS N - unsuccessful 3DS                                                                                                                                                                |
| threeDSServerTransId    | transaction ID in the 3DS system                                                    | string      | 8a811df4-91e0-436b-a9ac-9b0772c96f28                                                                                                                                                                   |
| acsTransId              | transaction ID in the ACS system                                                    | string      | 3e17fabb-71e6-498e-8794-ef8c95c5ba6f                                                                                                                                                                   |
| dsTransId               | transaction ID generated by the Directory Server                                    | string      | 12ebc556-82d3-4e35-9fb8-77ac18b050ea                                                                                                                                                                   |
| eci                     | Electronic Commerce Indicator Code indicating the security level of the transaction | string      | 02                                                                                                                                                                                                     |
| processingMerchantId    | merchant ID in the processing center                                                | string      | AE100000                                                                                                                                                                                               |
| processingTerminalId    | terminal ID in the processing center                                                | string      | AE100000                                                                                                                                                                                               |
| redirect3dsUrl          | URL for redirecting the client to the issuer's page for 3DS authentication          | string      | [https://api-ecom-release.develop.bankalliance.ua/threeDS/getRedirectHtml/1702047427621BHu5X99yDbA](https://api-ecom-release.develop.bankalliance.ua/threeDS/getRedirectHtml/1702047427621BHu5X99yDbA) |
| txnType                 | transaction subtype                                                                 | enum        | Possible values: NONCVV/noncvv - when this value is received, CVV input and verification do not occur                                                                                                  |
| senderCustomerId        | sender's customer ID                                                                | string      | 1258728c1                                                                                                                                                                                              |
| senderFirstName         | sender's first name                                                                 | string      | Ivanenko                                                                                                                                                                                               |
| senderLastName          | sender's last name                                                                  | string      | Ivan                                                                                                                                                                                                   |
| senderMiddleName        | sender's middle name                                                                | string      | Ivanovich                                                                                                                                                                                              |
| senderEmail             | sender's email                                                                      | string      | [mail@gmail.com](mailto:mail@gmail.com)                                                                                                                                                                |
| senderCountry           | sender's country                                                                    | string      | Ukraine                                                                                                                                                                                                |
| senderRegion            | sender's region                                                                     | string      | Kyivska                                                                                                                                                                                                |
| senderCity              | sender's city                                                                       | string      | Kyiv                                                                                                                                                                                                   |
| senderStreet            | sender's street                                                                     | string      | Sichovykh Striltsiv                                                                                                                                                                                    |
| senderAdditionalAddress | additional sender address details (floor, house number, apartment)                  | string      | 23                                                                                                                                                                                                     |
| senderItn               | sender's tax identification number                                                  | string      | 123456789                                                                                                                                                                                              |
| senderPassport          | sender's passport                                                                   | string      | AN123456                                                                                                                                                                                               |
| senderIp                | sender's IP address                                                                 | string      | 123.12.12.12                                                                                                                                                                                           |
| senderPhone             | sender's phone number                                                               | string      | 380630000000                                                                                                                                                                                           |
| senderBirthday          | sender's date of birth                                                              | string      | 31.12.2000                                                                                                                                                                                             |
| senderGender            | sender's gender                                                                     | string      | M                                                                                                                                                                                                      |
| senderZipCode           | sender's postal code                                                                | string      | 12000                                                                                                                                                                                                  |
| senderBankCode          | sender's issuer bank name                                                           | string      | BANK\_ALLIANCE                                                                                                                                                                                         |
| senderPaymentSystem     | sender's issuer payment system name                                                 | string      | MasterCard                                                                                                                                                                                             |
| senderCardNumberMask    | sender's masked card number                                                         | string      | 5573\*\*\*\*\*\*\*\*0304                                                                                                                                                                               |

### An example of a request body

```json
{
    "merchantId": "137d9304-0368-11ed-b939-0242ac1200",
    "merchantRequestId": "8c1f4b28-5b96-4b0e-bdc6-1d1cc2f2c42a",
    "encryptedCardNumber": "",
    "merchantComment": "",
    "comment": "",
    "purpose": "",
    "resultRedirectUrl": "https://support.google.com/websearch/answer/463?hl=ru",
    "desiredThreeDSMode": "MUST",
    "notificationUrl": "https://webhook.site/739593ac-8e50-48fd-a6c4-0422f9487a6e",
    "notificationEncryption": false,
    "date": "2025-04-03 14:55:14.00+00:00",
    "customerData": {
        "senderCustomerId": "senderCustomerId",
        "senderLastName": "senderLastName",
        "senderEmail": "aaaa@gmail.com",
        "senderFirstName": "senderFirstName",
        "senderMiddleName": "senderMiddleName",
        "senderRegion": "senderRegion",
        "senderCountry": "804",
        "senderAdditionalAddress": "senderAdditionalAddress",
        "senderStreet": "senderStreet",
        "senderCity": "senderCity",
        "senderIp": "55.555.44",
        "senderBirthday": "senderBirthday",
        "senderGender": "senderGender",
        "senderZipCode": "senderZipCode",
        "senderPassport": "senderPassport",
        "senderItn": "senderItn",
        "senderPhone": "senderPhone"
    }
}
```

### Example of response body without 3DS

```json
{
    "type": "VERIFICATION",
    "purpose": "",
    "comment": "",
    "coinAmount": 0,
    "merchantId": "137d9304-0368-11ed-b939-0242ac1200",
    "operationId": "17436921182614gyGFwqQKlb",
    "ecomOperationId": "71baa5d2-d685-4f1e-9b44-3b1e747855dc",
    "status": "PENDING",
    "transactionType": 215,
    "merchantRequestId": "8c1f4b28-5b96-4b0e-bdc6-1d1cc2f2c42a",
    "transactionCurrency": "980",
    "creationDateTime": "2025.04.03 17:55:18.214",
    "modificationDateTime": "2025.04.03 17:55:18.214",
    "transactionResponseInfo": {},
    "productType": "PURCHASE",
    "notificationUrl": "https://webhook.site/739593ac-8e50-48fd-a6c4-0422f9487a6e",
    "paymentServiceType": "CARD",
    "notificationEncryption": false,
    "processingTerminalId": "AE001001",
    "processingMerchantId": "AE001001",
    "creatorSystem": "H2H",
    "desiredThreeDSMode": "MUST",
    "threeDSMode": "MUST",
    "threeDSServerTransId": "6c187d07-e46e-4683-930c-8e8312433130",
    "senderCustomerId": "1234",
    "senderFirstName": "senderFirstName",
    "senderLastName": "senderLastName",
    "senderMiddleName": "senderMiddleName",
    "senderEmail": "aaaa@gmail.com",
    "senderCountry": "804",
    "senderRegion": "senderRegion",
    "senderCity": "senderCity",
    "senderStreet": "senderStreet",
    "senderAdditionalAddress": "senderAdditionalAddress",
    "senderItn": "5555555",
    "senderPassport": "passport",
    "senderIp": "55.555.44",
    "senderPhone": "5555",
    "senderBirthday": "20000110",
    "senderGender": "Female",
    "senderZipCode": "12345"
}
```

### Example response body from 3DS

```json
{
    "type": "VERIFICATION",
    "purpose": "",
    "comment": "",
    "coinAmount": 0,
    "merchantId": "137d9304-0368-11ed-b939-0242ac1200",
    "operationId": "17436921182614gyGFwqQKlb",
    "ecomOperationId": "71baa5d2-d685-4f1e-9b44-3b1e747855dc",
    "status": "REQUIRED_3DS",
    "transactionType": 215,
    "merchantRequestId": "8c1f4b28-5b96-4b0e-bdc6-1d1cc2f2c42a",
    "transactionCurrency": "980",
    "creationDateTime": "2025.04.03 17:55:18.214",
    "modificationDateTime": "2025.04.03 17:55:18.214",
    "transactionResponseInfo": {},
    "productType": "PURCHASE",
    "notificationUrl": "https://webhook.site/739593ac-8e50-48fd-a6c4-0422f9487a6e",
    "paymentServiceType": "CARD",
    "notificationEncryption": false,
    "processingTerminalId": "AE001001",
    "processingMerchantId": "AE001001",
    "creatorSystem": "H2H",
    "desiredThreeDSMode": "MUST",
    "threeDSMode": "MUST",
    "threeDSServerTransId": "6c187d07-e46e-4683-930c-8e8312433130",
    "senderCustomerId": "1234",
    "senderFirstName": "senderFirstName",
    "senderLastName": "senderLastName",
    "senderMiddleName": "senderMiddleName",
    "senderEmail": "aaaa@gmail.com",
    "senderCountry": "804",
    "senderRegion": "senderRegion",
    "senderCity": "senderCity",
    "senderStreet": "senderStreet",
    "senderAdditionalAddress": "senderAdditionalAddress",
    "senderItn": "5555555",
    "senderPassport": "passport",
    "senderIp": "55.555.44",
    "senderPhone": "5555",
    "senderBirthday": "20000110",
    "senderGender": "Female",
    "senderZipCode": "12345"
}
```
